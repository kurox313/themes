/* System24 Orange Transparent - FINAL VERSION */
@import url('https://refact0r.github.io/midnight-discord/build/midnight.css');
@import url('https://fonts.googleapis.com/css2?family=DM+Mono:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&display=swap');

@font-face {
    font-family: 'asciid';
    font-style: normal;
    font-weight: 400;
    src: local('asciid'), url('https://refact0r.github.io/system24/assets/asciid.woff') format('woff');
}

/* TRANSPARENCY - Using FrostedGlass approach */
.visual-refresh .theme-dark, .theme-dark, .visual-refresh.theme-dark, .visual-refresh {
    --header-primary: #fff;
    --header-secondary: #bbb;
    --text-normal: #fff;
    --text-default: #ddd;
    --text-muted: #aaa;
    --text-link: #ff6600;
    --channels-default: #ddd;
    --interactive-normal: #bbb;
    --interactive-hover: #eee;
    --interactive-active: #fff;
    --interactive-muted: #777;
    
    /* KEY TRANSPARENCY SETTINGS */
    --background-primary: transparent !important;
    --background-secondary: rgba(0, 0, 0, 0.2) !important;
    --background-secondary-alt: transparent !important;
    --background-tertiary: transparent !important;
    --background-accent: #4f545c;
    --background-floating: transparent !important;
    --background-mobile-primary: #36393f;
    --background-mobile-secondary: #2f3136;
    
    --background-modifier-hover: rgba(255, 255, 255, 0.05);
    --background-modifier-active: rgba(255, 255, 255, 0.07);
    --background-modifier-selected: rgba(255, 255, 255, 0.1);
    --background-modifier-accent: rgba(255, 255, 255, 0.1);
    --background-mentioned: rgba(255, 102, 0, 0.05);
    --background-mentioned-hover: rgba(255, 102, 0, 0.08);
    --background-message-hover: rgba(4, 4, 5, 0.07);
    
    --channeltextarea-background: rgba(255, 255, 255, 0.05);
    --deprecated-card-bg: rgba(0, 0, 0, 0.3);
    --deprecated-card-editable-bg: rgba(0, 0, 0, 0.3);
    
    /* Orange brand colors */
    --brand-experiment: #ff6600 !important;
    --brand-experiment-05a: rgba(255, 102, 0, 0.05) !important;
    --brand-experiment-10a: rgba(255, 102, 0, 0.1) !important;
    --brand-experiment-15a: rgba(255, 102, 0, 0.15) !important;
    --brand-experiment-20a: rgba(255, 102, 0, 0.2) !important;
    --brand-experiment-25a: rgba(255, 102, 0, 0.25) !important;
    --brand-experiment-30a: rgba(255, 102, 0, 0.3) !important;
    --brand-experiment-35a: rgba(255, 102, 0, 0.35) !important;
    --brand-experiment-40a: rgba(255, 102, 0, 0.4) !important;
    --brand-experiment-45a: rgba(255, 102, 0, 0.45) !important;
    --brand-experiment-50a: rgba(255, 102, 0, 0.5) !important;
    --brand-experiment-55a: rgba(255, 102, 0, 0.55) !important;
    --brand-experiment-60a: rgba(255, 102, 0, 0.6) !important;
    --brand-experiment-65a: rgba(255, 102, 0, 0.65) !important;
    --brand-experiment-70a: rgba(255, 102, 0, 0.7) !important;
    --brand-experiment-75a: rgba(255, 102, 0, 0.75) !important;
    --brand-experiment-80a: rgba(255, 102, 0, 0.8) !important;
    --brand-experiment-85a: rgba(255, 102, 0, 0.85) !important;
    --brand-experiment-90a: rgba(255, 102, 0, 0.9) !important;
    --brand-experiment-95a: rgba(255, 102, 0, 0.95) !important;
}

/* SQUARE SERVER ICONS - Remove rounded corners */
#app-mount .wrapper_bfc9a8,
#app-mount .wrapper__8436d,
#app-mount .folder__8436d,
#app-mount .expandedFolderBackground_bfc9a8 {
    border-radius: 0 !important;
}

#app-mount .wrapper_bfc9a8 svg,
#app-mount .wrapper__8436d svg,
#app-mount .folder__8436d svg,
#app-mount .expandedFolderBackground_bfc9a8 svg {
    border-radius: 0 !important;
}

/* SQUARE USER AVATARS AND PROFILES */
#app-mount .avatar__991e2,
#app-mount .avatar_f8541f,
#app-mount .clickableAvatar_f8541f,
#app-mount .wrapper__8436d .avatarStack_f8541f {
    border-radius: 0 !important;
}

#app-mount .avatar__991e2 img,
#app-mount .avatar_f8541f img,
#app-mount .clickableAvatar_f8541f img {
    border-radius: 0 !important;
}

/* Fix ping badges - make them more visible */
#app-mount .numberBadge_fdc5c3,
#app-mount .base_fdc5c3,
#app-mount .badge_fdc5c3 {
    background-color: #ff6600 !important;
    color: #fff !important;
    font-weight: bold !important;
    border: 2px solid #fff !important;
    border-radius: 0 !important;
}

/* Fix server hover effects */
#app-mount .wrapper_bfc9a8:hover,
#app-mount .wrapper__8436d:hover {
    background-color: rgba(255, 102, 0, 0.2) !important;
    border: 2px solid #ff6600 !important;
}

#app-mount .wrapper_bfc9a8.selected_bfc9a8,
#app-mount .wrapper__8436d.selected__8436d {
    background-color: rgba(255, 102, 0, 0.3) !important;
    border: 2px solid #ff6600 !important;
}

/* Clean Chat Area */
#app-mount .chatContent_f75fb0 {
    background: transparent !important;
}

/* System24 Theme Settings */
body {
    --font: 'DM Mono';
    --code-font: 'DM Mono';
    font-weight: 300;
    letter-spacing: -0.05ch;

    --gap: 12px;
    --divider-thickness: 4px;
    --border-thickness: 2px;
    --border-hover-transition: 0.2s ease;

    --animations: on;
    --list-item-transition: 0.2s ease;
    --dms-icon-svg-transition: 0.4s ease;

    --top-bar-height: var(--gap);
    --top-bar-button-position: titlebar;
    --top-bar-title-position: off;
    --subtle-top-bar-title: off;

    --custom-window-controls: off;
    --window-control-size: 14px;

    --custom-dms-icon: off;
    --dms-icon-svg-url: url('');
    --dms-icon-svg-size: 90%;
    --dms-icon-color-before: var(--icon-secondary);
    --dms-icon-color-after: var(--white);
    --custom-dms-background: off;
    --dms-background-image-url: url('');
    --dms-background-image-size: cover;
    --dms-background-color: linear-gradient(70deg, var(--blue-2), #ff6600, var(--red-2));

    --background-image: off;
    --background-image-url: url('');

    --transparency-tweaks: on;
    --remove-bg-layer: off;
    --panel-blur: off;
    --blur-amount: 12px;
    --bg-floating: rgba(54, 57, 63, 0.4);

    --small-user-panel: on;
    --unrounding: on;
    --custom-spotify-bar: on;
    --ascii-titles: on;
    --ascii-loader: system24;
    --panel-labels: on;
    --label-color: var(--text-muted);
    --label-font-weight: 500;
    
    --custom-chatbar: separated !important;
    --chatbar-height: 56px !important;
}

/* Orange color scheme for System24 components */
:root {
    --colors: on;
    
    --text-0: var(--bg-4);
    --text-1: oklch(95% 0 0);
    --text-2: oklch(85% 0 0);
    --text-3: oklch(75% 0 0);
    --text-4: oklch(60% 0 0);
    --text-5: oklch(40% 0 0);

    --bg-1: oklch(31% 0 0 / 0.3);
    --bg-2: oklch(27% 0 0 / 0.3);
    --bg-3: oklch(23% 0 0 / 0.3);
    --bg-4: oklch(19% 0 0 / 0.3);
    --hover: oklch(54% 0 0 / 0.1);
    --active: oklch(54% 0 0 / 0.2);
    --active-2: oklch(54% 0 0 / 0.3);
    --message-hover: var(--hover);

    --orange-1: oklch(75% 0.12 50);
    --orange-2: oklch(70% 0.12 50);
    --orange-3: oklch(65% 0.12 50);
    --orange-4: oklch(60% 0.12 50);
    --orange-5: oklch(55% 0.12 50);

    --accent-1: var(--orange-1);
    --accent-2: var(--orange-2);
    --accent-3: var(--orange-3);
    --accent-4: var(--orange-4);
    --accent-5: var(--orange-5);
    --accent-new: var(--red-2);

    --red-1: oklch(75% 0.13 0);
    --red-2: oklch(70% 0.13 0);
    --red-3: oklch(65% 0.13 0);
    --red-4: oklch(60% 0.13 0);
    --red-5: oklch(55% 0.13 0);

    --green-1: oklch(75% 0.12 170);
    --green-2: oklch(70% 0.12 170);
    --green-3: oklch(65% 0.12 170);
    --green-4: oklch(60% 0.12 170);
    --green-5: oklch(55% 0.12 160);

    --blue-1: oklch(75% 0.11 215);
    --blue-2: oklch(70% 0.11 215);
    --blue-3: oklch(65% 0.11 215);
    --blue-4: oklch(60% 0.11 215);
    --blue-5: oklch(55% 0.11 215);

    --yellow-1: oklch(80% 0.12 90);
    --yellow-2: oklch(75% 0.12 90);
    --yellow-3: oklch(70% 0.12 90);
    --yellow-4: oklch(65% 0.12 90);
    --yellow-5: oklch(60% 0.12 90);

    --purple-1: oklch(75% 0.12 310);
    --purple-2: oklch(70% 0.12 310);
    --purple-3: oklch(65% 0.12 310);
    --purple-4: oklch(60% 0.12 310);
    --purple-5: oklch(55% 0.12 310);

    --online: var(--green-2);
    --dnd: var(--red-2);
    --idle: var(--yellow-2);
    --streaming: var(--orange-2);
    --offline: var(--text-4);

    --border-light: var(--hover);
    --border: var(--active);
    --border-hover: var(--accent-2);
    --button-border: hsl(220, 0%, 100%, 0.1);

    --mention: linear-gradient(to right, color-mix(in hsl, var(--accent-2), transparent 90%) 40%, transparent);
    --mention-hover: linear-gradient(to right, color-mix(in hsl, var(--accent-2), transparent 95%) 40%, transparent);
    --reply: linear-gradient(to right, color-mix(in hsl, var(--text-3), transparent 90%) 40%, transparent);
    --reply-hover: linear-gradient(to right, color-mix(in hsl, var(--text-3), transparent 95%) 40%, transparent);
}

/* ASCII Art System24 loader and titles */
@property --ascii-titles {
    syntax: 'off | on';
    inherits: false;
    initial-value: on;
}

@container body style(--ascii-titles: on) {
    h3[data-text-variant='heading-xxl/extrabold'] {
        font-family: 'asciid';
        font-size: 50px;
        font-weight: 400;
    }
}

@property --ascii-loader {
    syntax: 'off | system24 | cats';
    inherits: false;
    initial-value: system24;
}

@container body style(--ascii-loader: system24) {
    .content_a2f514 {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
    }
    .content_a2f514 > .spinner_a2f514 {
        display: none;
    }
    .content_a2f514::before {
        display: block;
        content: '                    __                ___  __ __\A    _______  _______/ /____  ____ ___ |__ \\/ // /\A   / ___/ / / / ___/ __/ _ \\/ __ `__ \\__/ / // /_\A  (__  ) /_/ (__  ) /_/  __/ / / / / / __/__  __/\A/____/\\__, /____/\\__/\\___/_/ /_/ /_/____/ /_/   \A      /____/                                     ';
        font-size: 18px;
        font-family: monospace;
        white-space: pre;
        line-height: 1.2;
        background: linear-gradient(to right, #ff6600 0%, #ffaa44 25%, #ffaa44 75%, #ff6600 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-size: 200% auto;
        animation: textShine 1.5s linear infinite reverse;
    }
    .text_a2f514 {
        position: static;
    }

    @keyframes textShine {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        50.0001% { background-position: -100%, 50%; }
        100% { background-position: 0% 50%; }
    }
}

/* Panel labels with orange hover */
body {
    --label-color: var(--text-muted);
    --label-hover-color: #ff6600;
    --label-font-weight: 500;
}

/* Unrounding - System24 style */
@property --unrounding {
    syntax: 'off | on';
    inherits: false;
    initial-value: on;
}

@container body style(--unrounding: on) {
    *, *::before, *::after {
        border-radius: 0 !important;
    }
}

/* Custom Spotify bar - Orange styling */
@property --custom-spotify-bar {
    syntax: 'off | on';
    inherits: false;
    initial-value: on;
}

@container body style(--custom-spotify-bar: on) {
    #vc-spotify-progress-bar {
        margin: 8px 0 0 0;
    }
    .vc-spotify-button-row {
        margin-top: 8px;
    }
    #app-mount #vc-spotify-progress-bar .bar_a562c8 {
        height: 22px !important;
        top: 0 !important;
        background-color: var(--background-secondary-alt);
    }
    #app-mount #vc-spotify-progress-bar .barFill_a562c8 {
        height: 22px !important;
        background-color: #ff6600 !important;
    }
}

/* Additional transparency fixes */
#app-mount .guilds_c48ade {
    background-color: transparent;
}

#app-mount .sidebar_c48ade {
    border-radius: 0;
    background: rgba(0, 0, 0, 0.2);
}

#app-mount .chat_f75fb0 {
    border: none;
    background: rgba(0, 0, 0, 0.2);
}

#app-mount .membersWrap_c8ffbb {
    background-color: rgba(0, 0, 0, 0.2);
}
